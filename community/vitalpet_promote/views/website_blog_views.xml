<?xml version="1.0"?>
<odoo>
        <menuitem name="Website" id="menu_website_blog_root" sequence="2"
          groups="group_promote_blogger" parent="main_vitalpet_promote"/>

        <!-- Blog views -->
        <record id="view_blog_blog_list" model="ir.ui.view">
            <field name="name">promote.blog.list</field>
            <field name="model">promote.blog</field>
            <field name="arch" type="xml">
                <tree string="Post Categories">
                    <field name="id"/>
                    <field name="name"/>
                    <field name="active" invisible="1"/>
                </tree>
            </field>
        </record>
        <record id="view_blog_blog_form" model="ir.ui.view">
            <field name="name">promote.blog.form</field>
            <field name="model">promote.blog</field>
            <field name="arch" type="xml">
                <form string="Blog">
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" confirm="(Un)archiving a blog automatically (un)archives its posts. Do you want to proceed?" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                        <group>
                            <field name="name"/>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                        <field name="message_ids" widget="mail_thread" options='{"thread_level": 1}'/>
                    </div>
                </form>
            </field>
        </record>

        <!-- page list view  -->
        <record id="view_blog_post_list" model="ir.ui.view">
            <field name="name">promote.post.list</field>
            <field name="model">promote.post</field>
            <field name="arch" type="xml">
                <tree string="Blog Posts">
                    <field name="name"/>
                    <field name="active" invisible="1"/>
                    <field name="blog_id"/>
                    <field name="visits" invisible='1'/>
                    <field name="create_uid" invisible="1"/>
                    <field name="write_uid"/>
                    <field name="write_date"/>
                </tree>
            </field>
        </record>
        <!-- page form view  -->
        <record id="view_blog_post_form" model="ir.ui.view">
            <field name="name">promote.post.form</field>
            <field name="model">promote.post</field>
            <field name="arch" type="xml">
              <form string="Promote Post">
                  <sheet>
                  	<div class="oe_button_box" name="button_box">
                          <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                              <field name="active" widget="boolean_button" options="{&quot;terminology&quot;: &quot;archive&quot;}"/>
                          </button>
                          <button class="oe_stat_button" name="publish_unpublish_button" type="object" icon="fa-globe">
                              <field name="website_published" widget="website_button"/>
                          </button>
                          <button class="oe_stat_button" name="website_publish_button"
                                type="object" icon="fa-globe" string="Edit Post" attrs="{'invisible': [('blog_id', 'not in', (10, 11))]}">
                                
                            </button>
                      </div>
                      <group>
                            <field name="company_id" string="Company" attrs="{'readonly': [('blog_id', 'in', (24))]}"/>
                        <field name="blog_id" string="Blog Category" attrs="{'readonly': [('blog_id', 'in', (24))]}"/>
                        <field name="tag_ids" string="Tags" required="1" options="{'limit': 50, 'create': False, 'create_edit': False}" widget="many2many_tags" attrs="{'readonly': [('blog_id', 'in', (24))]}"/>
                      </group>

                      <group style="margin:0 !important;">
                        <field name="video_link" attrs="{'invisible': [('blog_id', 'not in', (26))], 'required': [('blog_id', 'not in', (25,11,12,24,13,14,15,10,7))]}"/>
                      </group>
                    
                      <group style="margin:0 !important;">
                        <field name="name" attrs="{'invisible': [('blog_id', 'not in', (11,25))], 'required': [('blog_id', 'not in', (12,24,13,14,26,15,10,7,25))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="short_text" attrs="{'invisible': [('blog_id', 'not in', (11,25))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="content" attrs="{'invisible': [('blog_id', 'not in', (13))], 'required': [('blog_id', 'not in', (26,25,12,24,13,14,15,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="image" class="image_cls" widget="image" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (14,11,25,12,24,13,16,15,10))], 'required': [('blog_id', 'not in', (25,12,24,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="petname" attrs="{'invisible': [('blog_id', 'not in', (13))], 'required': [('blog_id', 'not in', (25,11,12,24,14,26,15,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="city" attrs="{'invisible': [('blog_id', 'not in', (13))], 'required': [('blog_id', 'not in', (25,11,12,24,14,26,15,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="age" attrs="{'invisible': [('blog_id', 'not in', (13))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="breed" attrs="{'invisible': [('blog_id', 'not in', (13))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="sex" string="Sex" attrs="{'invisible': [('blog_id', 'not in', (13))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="weight" attrs="{'invisible': [('blog_id', 'not in', (13))]}"/>
                      </group>


                      <group style="margin:0 !important;">
                        <field name="caption" attrs="{'invisible': [('blog_id', 'not in', (14,26))]}"/>
                      </group>


                      <group style="margin:0 !important;">
                        <field name="promotion_title" attrs="{'invisible': [('blog_id', 'not in', (15))], 'required': [('blog_id', 'not in', (25,11,12,24,13,14,26,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="explanation" attrs="{'invisible': [('blog_id', 'not in', (15))]}"/>
                      </group>
                        

                      <group style="margin:0 !important;">
                        <field name="service" attrs="{'invisible': [('blog_id', 'not in', (10))], 'required': [('blog_id', 'not in', (25,11,12,24,13,14,26,15,7))]}"/>
                      </group>
					  <group style="margin:0 !important;">
                        <field name="sequence" attrs="{'invisible': [('blog_id', 'not in', (10))]}"/>
                      </group>

                      <group style="margin:0 !important;">
                        <field name="quote" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (12,24))], 'required': [('blog_id', 'not in', (25,11,13,14,26,15,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="reviewer_name" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (12,24))], 'required': [('blog_id', 'not in', (25,11,13,14,26,15,10,7))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="rating" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (24))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="date_of_review" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (12,24))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="source_url" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (24))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="reviewer_hometown" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (12,24))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="source_of_review" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (24))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="state" attrs="{'invisible': [('blog_id', 'not in', (13))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="news_date" attrs="{'invisible': [('blog_id', 'not in', (11,25))]}"/>
                      </group>
                      <group style="margin:0 !important;">
                        <field name="expiration_date" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (12,24,13,15))]}"/>
                      </group>

                      <!-- group style="margin:0 !important;">
                        <field name="website_published"/>
                      </group>  -->

                      <group style="margin:0 !important;">
                        <field name="birdeye_id" attrs="{'readonly': [('blog_id', 'in', (24))], 'invisible': [('blog_id', 'not in', (24))]}"/>
                      </group>

                      <group>
                          <field name="visits" attrs="{'readonly': [('blog_id', 'in', (24))]}"/>
                          <field name="ranking" invisible="1"/>
                      </group>
                      <group string="Technical" groups="base.group_no_one">
                          <field name="write_uid" context="{'default_groups_ref': ['base.group_user', 'base.group_partner_manager', 'base.group_document_user']}"/>
                          <field name="write_date"/>
                      </group>
                  </sheet>
                  <div class="oe_chatter">
                      <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                      <field name="message_ids" widget="mail_thread" options="{&quot;thread_level&quot;: 1}" placeholder="Send a message to the group"/>
                  </div>
              </form>
            </field>
        </record>
        <!-- page search view  -->
        <record id="view_blog_post_search" model="ir.ui.view">
            <field name="name">promote.post.search</field>
            <field name="model">promote.post</field>
            <field name="arch" type="xml">
                <search string="Blog Post">
                    <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                    <field name="name" string="Content" filter_domain="['|', ('name','ilike',self), ('content','ilike',self)]"/>
                    <field name="write_uid"/>
                    <field name="blog_id"/>
                    <group expand="0" string="Group By">
                    	<filter string="Company" domain="[]" context="{'group_by': 'company_id'}"/>
                        <filter string="Blog" domain="[]" context="{'group_by': 'blog_id'}"/>
                        <filter string="Author" domain="[]" context="{'group_by': 'create_uid'}"/>
                        <filter string="Last Contributor" domain="[]" context="{'group_by': 'write_uid'}"/>
                    </group>
                </search>
            </field>
        </record>
        <!-- page action -->
        <record id="action_blog_post" model="ir.actions.act_window">
            <field name="name">Posts</field>
            <field name="res_model">promote.post</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_blog_post_list"/>
            <field name="search_view_id" ref="view_blog_post_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a new blog post.
                </p>
            </field>
        </record>
        <menuitem id="menu_page" parent="menu_website_blog_root" name="Posts" action="action_blog_post" sequence="10"/>

        <record id="blog_blog_view_search" model="ir.ui.view">
            <field name="name">promote.blog.search</field>
            <field name="model">promote.blog</field>
            <field name="arch" type="xml">
                <search string="Blog">
                    <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
                </search>
            </field>
        </record>

        <record id="action_blog_blog" model="ir.actions.act_window">
            <field name="name">Post Categories</field>
            <field name="res_model">promote.blog</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem id="menu_blog" parent="configuration_promote" name="Post Categories" action="action_blog_blog" sequence="3"/>


        <!-- History Tree view
        <record model="ir.ui.view" id="view_blog_history_tree">
            <field name="name">promote.post.history.tree</field>
            <field name="model">promote.post.history</field>
            <field name="arch" type="xml">
                <tree string="Document History" editable='bottom'>
                    <field name="create_date"/>
                    <field name="create_uid"/>
                    <field name="post_id" string='Posts'/>
                </tree>
            </field>
        </record>-->

        <!-- History Form view
        <record model="ir.ui.view" id="view_blog_history_form">
            <field name="name">promote.post.history.form</field>
            <field name="model">promote.post.history</field>
            <field name="arch" type="xml">
                <form string="Blog Post History">
                    <label for="post_id" class="oe_edit_only"/>
                    <h1><field name="post_id" select="1" /></h1>
                    <label for="create_date" class="oe_edit_only"/>
                    <field name="create_date" readonly="1"/>
                </form>
            </field>
        </record> -->

        <!-- History Action
        <record model="ir.actions.act_window" id="action_history">
            <field name="name">Post Logs</field>
            <field name="res_model">promote.post.history</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_page_history" parent="menu_website_blog_root" name="Post Logs" action="action_history" sequence="30"/>  <groups="base.group_no_one"-->

        <!--<act_window
            id="action_related_page_history"
            context="{'search_default_post_id': [active_id], 'default_post_id': active_id}"
            domain="[('post_id','=',active_id)]"
            name="Post Logs"
            res_model="promote.post.history"
            src_model="promote.post"/>-->

<!-- All the above History views and actions were upgraded from 8.0 version in website_blog module  -->


        <record id="blog_tag_tree" model="ir.ui.view">
            <field name="name">blog_tag_tree</field>
            <field name="model">promote.tag</field>
            <field name="arch" type="xml">
                <tree string="Tag List" create="true">
                    <field name="name"/>
                    <field name="post_ids"/>
                </tree>
            </field>
        </record>

        <record id="blog_tag_form" model="ir.ui.view">
            <field name="name">blog_tag_form</field>
            <field name="model">promote.tag</field>
            <field name="arch" type="xml">
                <form string="Tag Form">
                    <sheet>
                        <group>
                            <field name="name"/>
                        </group>
                        <label for="post_ids" string="Used in: "/>
                        <field name="post_ids"/>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_tags" model="ir.actions.act_window">
            <field name="name">Post Tags</field>
            <field name="res_model">promote.tag</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="blog_tag_tree"/>
        </record>

        <menuitem id="menu_blog_tag" parent="configuration_promote" name="Post Tags" action="action_tags" sequence="4" />

		<!-- Promote Posts Mutli company rule -->

		<record model="ir.rule" id="ir_values_promote_post">
	        <field name="name">Post multi-company rule</field>
	        <field name="model_id" ref="model_promote_post"/>
	        <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
	        <field name="perm_read" eval="True"/>
	        <field name="perm_write" eval="True"/>
	        <field name="perm_unlink" eval="True"/>
	        <field name="perm_create" eval="True"/>
    	</record>
    	
    	<!-- page form view  -->
        <record id="view_blog_post_wizard" model="ir.ui.view">
            <field name="name">promote.post.wizard</field>
            <field name="model">promote.post.wizard</field>
            <field name="arch" type="xml">
            	<form string="Promote Post">
                    <p>
                        Thanks to fill the required fields, then continue to edit the post.
                    </p>
					<group>
                      	<field name="name" string="Title"  attrs="{'invisible': [('blog_id', 'not in', (11,25))], 'required': [('blog_id', 'in', (11))]}"/>
                      	<field name="service" string="Service"  attrs="{'invisible': [('blog_id', 'not in', (10))], 'required': [('blog_id', 'in', (10))]}"/>
                        <field name="blog_id" string="Blog Category" invisible="1"/>
                      	<field name="short_text" attrs="{'invisible': [('blog_id', 'not in', (11,25))]}"/>
                        <field name="company_id" string="Company"/>
                        <field name="sequence" string="Sequence" attrs="{'invisible': [('blog_id', 'not in', (10))]}"/>
                        <field name="tag_ids" string="Tags" required="1" options="{'limit': 50, 'create': False, 'create_edit': False}" widget="many2many_tags"/>
                        <field name="image" string="Image" class="image_cls" widget="image" required="1"/>
                      </group>
                    <footer>
                        <button name="action_create_post" string="Continue" type="object"
                            class="oe_highlight" />
                        or
                        <button string="Cancel" class="oe_link" special="cancel" />
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="view_blog_post_wizard_action" model="ir.actions.act_window">
            <field name="name">Promote Posts</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">promote.post.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_blog_post_wizard"></field>
            <field name="target">new</field>
            <field name="context">{'default_blog_id': 11}</field>
        </record>
        
    	<menuitem id="menu_page_blog" parent="menu_website_blog_root" name="Blogs" action="view_blog_post_wizard_action" sequence="20"/>
  	
        
        <record id="view_blog_post_services_wizard_action" model="ir.actions.act_window">
            <field name="name">Services</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">promote.post.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_blog_post_wizard"></field>
            <field name="target">new</field>
            <field name="context">{'default_blog_id': 10}</field>
        </record>
        
    	<menuitem id="menu_page_service" parent="menu_website_blog_root" name="Services" action="view_blog_post_services_wizard_action" sequence="30"/>


</odoo>
