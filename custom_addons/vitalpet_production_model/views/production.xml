<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record model="ir.ui.view" id="hr_production_type_tree_view">
		<field name="name">Production Type</field>
		<field name="model">hr.production.type</field>
		<field name="arch" type="xml">
			<tree string="Production Type">
				<field name="name" />
				<field name="sequence" />
				<field name="payout" />
				<field name="color" />
			</tree>
		</field>
	</record>

	<record id="hr_production_type_form_view" model="ir.ui.view">
		<field name="name">Production Type</field>
		<field name="model">hr.production.type</field>
		<field name="arch" type="xml">
			<form>
				<group>
					<field name="name" />
					<field name="sequence" />
					<field name="payout" />
					<field name="color" />
				</group>
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="hr_production_tag_tree_view">
		<field name="name">Production Tag</field>
		<field name="model">hr.production.tag</field>
		<field name="arch" type="xml">
			<tree string="Production Tag">
					<field name="name" />
					<field name="active" />
					<field name="code" />
					<field name="production_type" />
					<field name="color" />
					<field name="double_validation" />
					<field name="rate" />
					<field name="salary_rule_id" />
					<field name="subtract_amount" />
					<field name="payout" />
					<field name="deduct_draw" />
			</tree>
		</field>
	</record>

	<record id="hr_production_tag_form_view" model="ir.ui.view">
		<field name="name">Production Tag</field>
		<field name="model">hr.production.tag</field>
		<field name="arch" type="xml">
			<form>
				<group>
					<field name="sequence" />
					<field name="name" />
					<field name="active" />
					<field name="code" />
					<field name="production_type" />
					<field name="color" />
					<field name="double_validation" />
					<field name="rate" />
					<field name="salary_rule_id" />
					<field name="subtract_amount" />
					<field name="payout" />
					<field name="deduct_draw" />
				</group>
			</form>
		</field>
	</record>

	<record id="hr_production_line_form_view" model="ir.ui.view">
		<field name="name">Production Form</field>
		<field name="model">hr.production</field>
		<field name="arch" type="xml">
			<form>
			
				<header>
						<!-- <button name="validate" type="object" string="Validate" class="oe_highlight" states="draft"/> -->
						<field name="status" widget="statusbar" class="oe_highlight"
							statusbar_visible="draft,validated,history" />
				</header>
			
				<sheet>
					<group>
						<group>
							<field name="employee_id" />
							<field name="company_id"  />
							<field name="period_id" domain='[("company_id", "=", company_id)]'  attrs="{'required': [('state', '!=', 'history')], 'invisible': [('state', '=', 'history')]}"/>
							<field name="tot_amt" />
							<field name="start_date" attrs="{'invisible': [('state', '=', 'history')]}" />
							<field name="end_date" attrs="{'invisible': [('state', '=', 'history')]}" />
							<field name="days_worked" />
							<field name="production_per_day" />
						</group>
						<group>
							<field name="contract_id" />
							<field name="state" />
							<field name="payslip_id" />
							<field name="record_count" />
							
							<field name="period_history" />
							<field name="is_history" />
							<field name="extra_shift" invisible="1"/>
							<field name="end_date_import" invisible="1" />
							<field name="company_import" invisible="1" />
						</group>
					</group>
					<notebook>
						<page string="Production Details">
							<field name="production_line_ids" context="{'employee_id': employee_id}">
								<tree editable="bottom">
									<field name="job_id" domain="[('id', 'in', job_ids[0][2])]"
										options="{'no_create' : True,'no_edit' : True}" />
									<field name="company_id" />
									<field name="date" />
									<field name="bonus_id" string="Tag" options="{'no_create' : True,'no_edit' : True}" />
									<field name="production_type" />
									<field name="amount" />
									<field name="status" />
									<field name="job_ids" widget="many2many_tags" invisible="1" />
									<field name="fin_year" />
									<field name="quarter" />
									<field name="fin_month" />
									<field name="fin_week" />
								</tree>
							</field>
						</page>
					</notebook>
				</sheet>
				<div class="oe_chatter">
					<field name="message_ids" widget="mail_thread" />
<!-- 					<field name="message_last_post" />
 -->					<field name="message_needaction" />
					<field name="message_needaction_counter" />
				</div>
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="hr_production_line_tree_view">
		<field name="name">Production Tree</field>
		<field name="model">hr.production</field>
		<field name="arch" type="xml">
			<tree string="Vitalpet Production" colors="red:status == 'history'">
				<field name="employee_id" />
				<field name="company_id" />
				<field name="period_id" />
				<field name="tot_amt" />
				<field name="days_worked" />
				<field name="production_per_day" />
				<field name="start_date" />
				<field name="end_date" />
				<field name="is_history" />
				<field name="period_history" />
				<field name="status" />
			</tree>
		</field>
	</record>

	<record id="vitalpet_hr_production_action" model="ir.actions.act_window">
		<field name="name">Production Details</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">hr.production</field>
		<field name="view_id" ref="hr_production_line_tree_view" />
		<field name="view_mode">tree,form</field>
	</record>

	<record id="hr_production_type_action" model="ir.actions.act_window">
		<field name="name">Production Type</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">hr.production.type</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="help" type="html">
			<p class="oe_view_nocontent_create">
				Click here to create a record
			</p>
		</field>
	</record>

	<record id="hr_production_tag_action" model="ir.actions.act_window">
		<field name="name">Production Tag</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">hr.production.tag</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
		<field name="help" type="html">
			<p class="oe_view_nocontent_create">
				Click here to create a record
			</p>
		</field>
	</record>

	<menuitem id="menu_hr_production" name="Production"
		parent="hr_recruitment.menu_hr_recruitment_configuration" sequence="55" />

	<menuitem id="menu_hr_production_type" name="Production Type"
		parent="menu_hr_production" sequence="1" action="hr_production_type_action" />

	<menuitem id="menu_hr_production_tag" name="Production Tag"
		parent="menu_hr_production" sequence="2" action="hr_production_tag_action" />
</odoo>